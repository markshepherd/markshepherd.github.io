{"version":3,"sources":["Analytics.js","AboutDialog.js","CovidData.js","GeneralData.js","LoadingDialog.js","MyLink.js","RegionMenu.js","Utils.js","RegionTable.js","URLUpdater.js","SeriesChart.js","App.js","Version.js","serviceWorker.js","index.js"],"names":["Analytics","enabled","selectCount","counts","this","event","category","label","gtag","event_category","event_label","transport_type","url","reportEvent","name","count","eventName","countableEvent","instance","AboutDialog","state","backgroundColor","handleCloseButton","props","onCloseButton","noop","something","aboutDialogOpened","Dialog","onClose","open","aria-labelledby","PaperProps","style","transparent","DialogTitle","class","disableTypography","id","className","Typography","variant","IconButton","onClick","DialogContent","dividers","children","DialogActions","Button","autoFocus","color","React","Component","CovidData","filepath","callback","readDataFile","series","item","deaths","cases","timelineItem","timeline","date","cumulativeCases","cumulativeDeaths","dates","Object","keys","sort","newTimeline","i","length","push","csvText","previousCases","previousDeaths","previousCounty","previousState","stateData","tokens","nationalSeries","statesData","latestDate","lines","split","linesArray","a","b","j","countyName","stateName","parseInt","pc","pd","newItem","addToSeries","countiesData","countySeries","allCounties","optimizeSeries","allStates","xhr","XMLHttpRequest","onreadystatechange","readyState","DONE","status","receivedDataFile","responseText","alert","send","GeneralData","result","populationTotal","annualDeathsTotal","stateInfo","replace","population","annualDeaths","LoadingDialog","boxShadow","type","height","width","MyLink","handleClick","e","reportOutboundLink","href","Link","target","RegionMenu","select","setState","selection","onSelected","handleDownClick","index","findSelectedIndex","list","arrowClicked","handleUpClick","handleSelectChanged","currentTarget","textContent","menuSelection","componentDidMount","componentDidUpdate","prevProps","prevState","snapshot","listsEqual","FormControl","Select","labelId","value","onChange","map","MenuItem","key","Utils","array","property","numeric","ascending","newArray","assign","dateList","findIndex","element","startDate","slice","desiredIndex","findDateIndex","currentIndex","unshift","min","Number","POSITIVE_INFINITY","Math","max","NEGATIVE_INFINITY","stateAbbreviations","toLowerCase","substring","toUpperCase","slimStyle","padding","RegionTable","selectedIndex","createSortedList","sortBy","sortAscending","handleCellClick","bind","handleNextClick","handlePrevClick","toggleSort","selectedRef","createRef","tableContainerRef","itemSelected","title","sortArray","container","current","row","containerVisibleHeight","scrollHeight","scrollTopMax","offsetTop","offsetHeight","scrollTop","scrollIntoView","scrollBy","listChanged","ensureSelectionVisible","tableClasses","extra","TableContainer","ref","Table","stickyHeader","size","TableHead","TableRow","TableCell","align","TableBody","selected","itemClick","URLUpdater","settings","s","newUrl","window","location","toString","sep","encodeURIComponent","county","undefined","history","replaceState","defaultValue","timerId","clearTimeout","setTimeout","rewriteWindowLocation","material500Colors","SeriesChart","isHidden","0","1","2","3","4","5","handleLogChanged","linearLogToggleClicked","newType","update","handleCumulativeChanged","cumulative","checked","handlePer100000Changed","per100000","handleChartClick","datasets","hidden","chartRef","chartInstance","isDatasetVisible","myId","hideShowDatasetClicked","handleSliderChanged","movingAverageDays","smooth","handleSmoothChanged","handleCompareButton","lockedSeries","handleResetCompareButton","handleCasesDeathsButton","showCases","days","params","get","defaultSliderValue","number","half","floor","sum","num","colors","highlight","labels","casesData","deathsData","cumulativeCasesData","cumulativeDeathsData","trimmedSeries","trimToStartDate","populationDataMissing","seriesPopulation","factor","round","per","datasetLabels","showDeaths","makeLabel","n","makeColor","borderColor","borderWidth","fill","data","calcMovingAverage","origData","minY","MAX_VALUE","findMin","maxY","MIN_VALUE","findMax","currentSeriesLocked","createChartDataOneTrack","r","concat","chartData","createChartData","options","animation","duration","responsive","maintainAspectRatio","aspectRatio","legend","position","small","display","text","fontSize","layout","left","right","top","bottom","scales","xAxes","yAxes","ticks","suggestedMin","suggestedMax","values","checkboxLabelPlacement","FormControlLabel","labelPlacement","control","Checkbox","onTitleClick","appTitle","updateDate","disabled","Slider","step","track","trim","versionString","development","match","enable","MyTooltip","withStyles","theme","tooltip","palette","common","white","shadows","Tooltip","FormatSliderValue","popperRef","useRef","useEffect","placement","PopperProps","App","calcStatesList","calcCountiesList","countyData","handleStateSelected","selectedState","selectedCounty","handleCountySelected","aboutOpen","aboutTransparent","handleSliderCommited","dateSliderUsed","handleStateSelectChanged","handleCountySelectChanged","handleCountyDownClick","findSelectedCountyIndex","countiesList","handleCountyUpClick","handleStateDownClick","findSelectedStateIndex","statesList","handleStateUpClick","handleAboutCloseButton","handleTitleClick","mql","matchMedia","sliderRef","stateMenuRef","countyMenuRef","aboutRef","URLSearchParams","search","isLoading","matches","generalData","gotData","covidData","nationalTimeline","addListener","countyInfo","chartLabel","aboutInfo","Fragment","onChangeCommitted","valueLabelDisplay","valueLabelFormat","ValueLabelComponent","alt","src","xmlns","viewBox","d","chartTitle","stateAbbreviation","Boolean","hostname","createMuiTheme","typography","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.39e46a2d.chunk.js","sourcesContent":["class Analytics {\n\tenabled = true;\n\n\tenable(enabled) {\n\t\tthis.enabled = enabled;\n\t}\n\n\treportEvent(event, category, label) {\n\t\t// console.log(\"Analytics\", event, category, label);\n\t\tif (this.enabled) {\n\t\t\t// eslint-disable-next-line no-undef\n\t\t\tgtag(\"event\", event, {\n\t\t\t\tevent_category: category || \"engagement\",\n\t\t\t\tevent_label: label,\n\t\t\t\ttransport_type: \"beacon\"\t\t\t\n\t\t\t});\n\t\t\t// BTW, setting the transport method to \"beacon\" lets the hit be sent\n\t\t\t// using \"navigator.sendBeacon\" in browsers that support it.\n\t\t}\n\t}\n\n\treportOutboundLink(url) {\n\t\tthis.reportEvent(\"click\", \"outbound\", url);\n\t}\n\n\tselectCount = {};\n\n\titemSelected(name) {\n\t\tvar count = this.selectCount[name] || 0;\n\t\tcount += 1;\n\t\tthis.selectCount[name] = count;\n\t\tif (count === 1) {\n\t\t\tthis.reportEvent(\"table_select_1\", null, name)\n\t\t} else if (count === 5) {\n\t\t\tthis.reportEvent(\"table_select_5\", null, name)\n\t\t}\n\t}\n\n\tcounts = {};\n\n\tcountableEvent(eventName) {\n\t\tthis.counts[eventName] = (this.counts[eventName] || 0) + 1;\n\t\tif (this.counts[eventName] === 1) {\n\t\t\tthis.reportEvent(`${eventName}_1`)\n\t\t} else if (this.counts[eventName] === 5) {\n\t\t\tthis.reportEvent(`${eventName}_5`)\n\t\t}\n\t}\n\n\thideShowDatasetClicked() {\n\t\tthis.countableEvent(\"hideshow_dataset_click\");\n\t}\n\n\tdateSliderUsed() {\n\t\tthis.countableEvent(\"date_slider_click\");\n\t}\n\n\tlinearLogToggleClicked() {\n\t\tthis.countableEvent(\"linlog_click\");\n\t}\n\n\tarrowClicked() {\n\t\tthis.countableEvent(\"arrow_click\");\n\t}\n\n\tmenuSelection() {\n\t\tthis.countableEvent(\"menu_selection\");\n\t}\n\n\taboutDialogOpened() {\n\t\tthis.countableEvent(\"about_dialog\");\n\t}\n\n\tstatic instance;\n}\n\nif (!Analytics.instance) {\n\tAnalytics.instance = new Analytics();\n};\n\nexport default Analytics.instance;\n","import React from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, Typography } from '@material-ui/core/';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Analytics from './Analytics';\nimport \"./AboutDialog.css\";\n\nexport default class AboutDialog extends React.Component {\n\tstate = {backgroundColor: '#ffffffee'};\n\n\thandleCloseButton = () =>{\n\t\tthis.props.onCloseButton();\n\t}\n\n\n\tnoop = (something) => {\n\t\tAnalytics.aboutDialogOpened();\n\t\treturn something;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Dialog onClose={this.handleCloseButton} open={this.noop(this.props.open)} aria-labelledby=\"customized-dialog-title\"\n\t\t\t\tPaperProps={{\n    \t\t\t\tstyle: {\n      \t\t\t\t\tbackgroundColor: this.props.transparent ? \"#ffffff44\" : \"#ffffffee\"\n    \t\t\t\t}\n  \t\t\t\t}}>\n\t\t\t\t<DialogTitle class=\"dialogTitle\" disableTypography id=\"customized-dialog-title\" onClose={this.handleCloseButton}>\n\t\t\t\t\t<div className=\"titleContainer\">\n\t\t\t\t\t\t<Typography className=\"title\" variant=\"h6\">Covid-19 Statistics for U.S. States & Counties</Typography>\n\t\t\t\t\t\t<div className=\"closeButton\">\n\t\t\t\t\t\t\t<IconButton onClick={this.handleCloseButton}>\n\t\t\t\t\t          <CloseIcon />\n\t\t\t\t\t        </IconButton>\n\t\t\t\t\t    </div>\n\t\t\t        </div>\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button autoFocus onClick={this.handleCloseButton} color=\"primary\">\n\t\t\t\t\tOK\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t};\n}\n","export default class CovidData {\n    // This class reads a covid states/counties data file, and parses\n    // the file into the \"statesData\" data structure, which like this:\n    //\n    // statesData =\n    // {\n    //  Alabama: {\n    //      countiesData: {\n    //          \" All counties\": Series,\n    //          Alameda: Series,\n    //          Marin: Series,\n    //          etc...\n    //      }\n    //  },\n    //  Alaska ...,\n    //  etc...\n    //  \" All states\": { ... }\n    // }\n    //\n    // \"Series\" is like this \n    // {\n    //      timeline: [{date: ..., cases: ..., deaths: ..., totalCases: ..., totalDeaths: ...}, ...]\n    //      cases: nnn,\n    //      deaths: nnn,\n    //      population: nnn, // this is added in later, using data from GeneralData.js\n    //      annualDeaths: nnn // this is added in later, using data from GeneralData.js\n    // }\n\n    static allCounties = \" All counties\"; // the leading space makes it sort first.\n    static allStates = \" All states\";\n\n    // The constructor starts loading the data file from the server.\n    // Once the data is available, the \"callback\" function is called.\n    // Callback parameters are (statesData, latestDate)\n    constructor(filepath, callback) {\n        this.callback = callback;\n        this.readDataFile(filepath);\n    }\n\n    /*private*/ addToSeries(series, item) {\n        series.deaths += item.deaths;\n        series.cases += item.cases;\n        var timelineItem = series.timeline[item.date];\n        if (!timelineItem) {\n            timelineItem = {date: item.date, cases: item.cases, deaths: item.deaths,\n                cumulativeCases: item.cumulativeCases, cumulativeDeaths: item.cumulativeDeaths};\n            series.timeline[item.date] = timelineItem;\n        } else {\n            timelineItem.deaths += item.deaths;\n            timelineItem.cases += item.cases;\n            timelineItem.cumulativeCases += item.cumulativeCases;\n            timelineItem.cumulativeDeaths += item.cumulativeDeaths;\n        }\n    }\n\n    /*private*/ optimizeSeries(series) {\n        var dates = Object.keys(series.timeline).sort();\n        var newTimeline = [];\n        for (var i = 0; i < dates.length; i += 1) {\n            newTimeline.push(series.timeline[dates[i]]);\n        }\n        series.timeline = newTimeline;\n    }\n\n    // csv columns are: date,county,state,fips,cases,deaths\n    /*private*/ receivedDataFile(csvText) {\n        var previousCases;\n        var previousDeaths;\n        var previousCounty;\n        var previousState;\n        var stateData;\n        var nationalSeries = {timeline: [], cases: 0, deaths: 0};\n        var statesData = {};\n        var latestDate = \"2020-01-01\";\n        var tokens;\n        var lines = csvText.split(/[\\n\\r]+/);\n        var linesArray = [];\n        for (var i = 0; i < lines.length; i += 1) {\n            tokens = lines[i].split(/,/);\n            if (tokens.length !== 6) continue;\n            if (tokens[0] === \"date\") continue;\n            linesArray.push(tokens);\n        }\n        linesArray.sort((a, b) => {\n            if (a[2] > b[2]) return 1;\n            if (a[2] < b[2]) return -1;\n            if (a[1] > b[1]) return 1;\n            if (a[1] < b[1]) return -1;\n            if (a[0] > b[0]) return 1;\n            if (a[0] < b[0]) return -1;\n            return 0;\n        });\n\n        for (var j = 0; j < linesArray.length; j += 1) {\n            tokens = linesArray[j];\n            const date = tokens[0];\n            const countyName = tokens[1];\n            const stateName = tokens[2];\n            // we don't use fips which is tokens[3]\n            var cases = parseInt(tokens[4], 10);\n            var deaths = parseInt(tokens[5], 10);\n\n            if (countyName !== previousCounty || stateName !== previousState) {\n                previousCounty = countyName;\n                previousState = stateName;\n                previousCases = 0;\n                previousDeaths = 0;\n            }\n            var pc = previousCases;\n            var pd = previousDeaths;\n            previousCases = cases;\n            previousDeaths = deaths;\n            cases -= pc;\n            deaths -= pd;\n\n            if (date > latestDate) latestDate = date;\n\n            var newItem = {date: date, cases: cases, deaths: deaths, cumulativeCases: previousCases, cumulativeDeaths: previousDeaths};\n\n            this.addToSeries(nationalSeries, newItem);\n\n            stateData = statesData[stateName];\n            if (!stateData) {\n                stateData = {series: {timeline: [], cases: 0, deaths: 0}, countiesData: {}};\n                statesData[stateName] = stateData;\n            }\n            this.addToSeries(stateData.series, newItem);\n\n            var countySeries = stateData.countiesData[countyName];\n            if (!countySeries) {\n                countySeries = {timeline: [], cases: 0, deaths: 0};\n                stateData.countiesData[countyName] = countySeries;\n            }\n            this.addToSeries(countySeries, newItem);\n        }\n\n        for (var stateName in statesData) {\n            stateData = statesData[stateName];\n            stateData.countiesData[CovidData.allCounties] = stateData.series;\n            delete stateData.series;\n            for (var b in stateData.countiesData) {\n                this.optimizeSeries(stateData.countiesData[b]);\n            }\n        }\n        this.optimizeSeries(nationalSeries);\n        statesData[CovidData.allStates] = {countiesData: {[CovidData.allCounties]: nationalSeries}};\n        this.callback(statesData, latestDate);\n    }\n\n    /*private*/ readDataFile(filepath) {\n        var xhr = new XMLHttpRequest();\n        xhr.onreadystatechange = () => {\n            if(xhr.readyState === XMLHttpRequest.DONE) {\n                var status = xhr.status;\n                if (status === 0 || (status >= 200 && status < 400)) {\n                    // The request has been completed successfully\n                    this.receivedDataFile(xhr.responseText);\n                } else {\n                    alert(\"Couldn't fetch data file: status\", status);\n                }\n            }\n        };\n        xhr.open(\"GET\", filepath);\n        xhr.send();\n    }\n}\n","import CovidData from './CovidData';\n\nexport default class GeneralData {\n\t// This class reads a general states/counties data file, and parses\n\t// the file into the \"generalData\" data structure, which like this:\n\t//\n\t// generalData =\n\t// {\n\t// \tAlabama: {\n\t// \t\t\" All counties\": CountyInfo,\n\t// \t\tAlameda: CountyInfo,\n\t// \t\tMarin: CountyInfo,\n\t// \t\tetc...\n\t// \t},\n\t// \tAlaska ...,\n\t// \tetc...\n\t// \t\" All states\": { ... }\n\t// }\n\t//\n\t// \"CountyInfo\" is like this \n\t// {\n\t// \t\tpopulation: <n>,\n\t// \t    annualDeaths: <n>\n\t// }\n\n\t// The constructor starts loading the data file from the server.\n\t// Once the data is available, the \"callback\" function is called.\n\t// Callback parameters are (generalData)\n\tconstructor(filepath, callback) {\n\t\tthis.callback = callback;\n\t\tthis.readDataFile(filepath);\n\t}\n\n\t// csv columns are: REGION,DIVISION,STATE,COUNTY,STNAME,CTYNAME,POPESTIMATE2019,DEATHS2019\n\t/*private*/ receivedDataFile(csvText) {\n\t\tvar tokens;\n\t\tvar lines = csvText.split(/[\\n\\r]+/);\n\t\tvar linesArray = [];\n\t\tfor (var i = 0; i < lines.length; i += 1) {\n\t\t\ttokens = lines[i].split(/,/);\n\t\t\tif (tokens.length !== 8) continue;\n\t\t\tif (tokens[0] === \"REGION\") continue;\n\t\t\tlinesArray.push(tokens);\n\t\t}\n\t\tlinesArray.sort((a, b) => {\n\t\t\tif (a[4] > b[4]) return 1;\n\t\t\tif (a[4] < b[4]) return -1;\n\t\t\tif (a[5] > b[5]) return 1;\n\t\t\tif (a[5] < b[5]) return -1;\n\t\t\treturn 0;\n\t\t});\n\n\t\tvar result = {};\n\t\tvar populationTotal = 0;\n\t\tvar annualDeathsTotal = 0;\n\n\t\tfor (var j = 0; j < linesArray.length; j += 1) {\n\t\t\ttokens = linesArray[j];\n\n\t\t\tconst stateName = tokens[4];\n\t\t\tvar stateInfo = result[stateName];\n\t\t\tif (!stateInfo) {\n\t\t\t\tstateInfo = {};\n\t\t\t\tresult[stateName] = stateInfo;\n\t\t\t}\n\n\t\t\tvar countyName = tokens[5].replace(/ (Parish|County|Municipality)$/, \"\");\n\t\t\tvar population = parseInt(tokens[6]);\n\t\t\tvar annualDeaths = parseInt(tokens[7]);\n\t\t\tif (countyName === \"All\") {\n\t\t\t\tcountyName = CovidData.allCounties;\n\t\t\t\tpopulationTotal += population;\n\t\t\t\tannualDeathsTotal += annualDeaths;\n\t\t\t}\n\n\t\t\tstateInfo[countyName] = {population: population, annualDeaths: parseInt(tokens[7])};\n\t\t}\n\n\t\tresult[CovidData.allStates] = {[CovidData.allCounties]: {population: populationTotal, annualDeaths: annualDeathsTotal}};\n\t\tthis.callback(result);\n\t}\n\n\t/*private*/ readDataFile(filepath) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.onreadystatechange = () => {\n\t\t\tif(xhr.readyState === XMLHttpRequest.DONE) {\n\t\t\t\tvar status = xhr.status;\n\t\t\t\tif (status === 0 || (status >= 200 && status < 400)) {\n\t\t\t\t\t// The request has been completed successfully\n\t\t\t\t\tthis.receivedDataFile(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Couldn't fetch data file: status\", status);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.open(\"GET\", filepath);\n\t\txhr.send();\n\t}\n}\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport { Dialog, DialogContent, Typography } from '@material-ui/core';\n\nexport default class LoadingDialog extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Dialog open={this.props.open}\n\t\t\t\tPaperProps={{\n    \t\t\t\tstyle: {\n      \t\t\t\t\tbackgroundColor: 'transparent',\n      \t\t\t\t\tboxShadow: 'none',\n    \t\t\t\t}\n  \t\t\t\t}}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80}/>\n\t\t\t\t\t{/* https://mhnpd.github.io/react-loader-spinner\n\t\t\t\t\t    https://www.npmjs.com/package/react-loader-spinner \n\t\t\t\t\t\tTailSpin Puff Grid ThreeDots */}\n\t\t\t\t\t<Typography variant=\"body2\">Fetching data...</Typography>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t};\n}\n","import React from 'react';\nimport {Link} from '@material-ui/core';\nimport Analytics from './Analytics';\n\nexport default class MyLink extends React.Component {\n\thandleClick = (e) => {\n\t\tAnalytics.reportOutboundLink(this.props.href);\n\t\tthis.props.onClick && this.props.onClick(e);\n\t}\n\n\trender() {\n\t\treturn <Link target={this.props.target} href={this.props.href} onClick={this.handleClick}>\n\t\t\t{this.props.children}\n\t\t</Link>\n\t}\n}\n","import React from 'react';\nimport { FormControl, MenuItem, Select } from '@material-ui/core';\nimport './RegionMenu.css';\nimport Analytics from './Analytics';\n\nexport default class RegionMenu extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {selection: this.props.list.length > 0 ? this.props.list[0].name : \"\"};\n\t}\n\n\tlistsEqual(a, b) {\n\t\treturn (a.length === b.length) && (a.length === 0 || (a[0].name === b[0].name));\n\t}\n\n\tfindSelectedIndex() {\n\t\tfor (var i = 0; i < this.props.list.length; i += 1) {\n\t\t\tif (this.props.list[i].name === this.state.selection) {\n\t\t\t\treturn i;\n\t\t\t}\n \t\t}\n\t}\n\n\tselect = (name) => {\n\t\tthis.setState({selection: name});\n\t\tthis.props.onSelected(name);\n\t}\n\n\thandleDownClick = (e) => {\n\t\tlet index = this.findSelectedIndex();\n\t\tif (index < this.props.list.length - 1) {\n\t\t\tindex += 1;\n\t\t}\n\t\tthis.select(this.props.list[index].name);\n\t\tAnalytics.arrowClicked();\n\t}\n\n\thandleUpClick = (e) => {\n\t\tlet index = this.findSelectedIndex();\n\t\tif (index > 0) {\n\t\t\tindex -= 1;\n\t\t}\n\t\tthis.select(this.props.list[index].name);\n\t\tAnalytics.arrowClicked();\n\t}\n\n\thandleSelectChanged = (e) => {\n\t\tthis.select(e.currentTarget.textContent);\n\t\tAnalytics.menuSelection();\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.props.onSelected(this.state.selection);\n\t}\n\n\tcomponentDidUpdate = (prevProps, prevState, snapshot) => {\n\t\tif (!this.listsEqual(prevProps.list, this.props.list)) {\n\t\t\tthis.select(this.props.list[0].name);\t\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (<div>\n\t\t\t<FormControl>\n\t\t        <Select\n\t\t        \tclassName=\"regionMenu\"\n\t\t        \tlabelId=\"demo-simple-select-label\"\n\t\t        \tid=\"demo-simple-select\"\n\t\t        \tvalue={this.state.selection}\n\t\t        \tonChange={this.handleSelectChanged}\n\t\t        >\n\t\t        \t{this.props.list.map((item) => {\n\t\t\t\t\t\treturn <MenuItem key={item.name} value={item.name}>{item.name}</MenuItem>\n\t\t\t\t    })}\n\t\t        </Select>\n\t\t    </FormControl>\n\t\t    {/*<div className=\"upDownButtons\">\n\t\t\t\t<Link href=\"#\" onClick={this.handleUpClick} className=\"upDownButton\">▲</Link>\n\t\t\t\t<Link href=\"#\" onClick={this.handleDownClick} className=\"upDownButton\">▼</Link>\n\t\t\t</div>*/}\n\t\t</div>);\n\t}\n}\n","\nexport default class Utils {\n\tstatic sortArray(array, property, numeric, ascending) {\n\t\tvar newArray = [];\n\t\tfor (var i = 0; i < array.length; i += 1) {\n\t\t\tnewArray.push(Object.assign({}, array[i]));\n\t\t}\n\n\t\tif (!numeric) {\n\t\t\tnewArray.sort(function(a, b) {\n\t\t\t\tif (a[property] < b[property]) {\n\t\t\t\t\treturn ascending ? -1 : 1;\n\t\t\t\t} else if (a[property] > b[property]) {\n\t\t\t\t\treturn ascending ? 1 : -1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tnewArray.sort(function(a, b) {\n\t\t\t\treturn ascending ? a[property] - b[property] : b[property] - a[property];\n\t\t\t});\n\t\t}\n\t\treturn newArray;\n\t}\n\n\tstatic findIndex(list, name) {\n\t\tfor (var i = 0; i < list.length; i += 1) {\n\t\t\tif (list[i].name === name) {\n\t\t\t\treturn i;\n\t\t\t}\n \t\t}\n \t\treturn -1;\n \t\t// alert(\"error\");\n\t}\n\n\tstatic listsEqual(a, b) {\n\t\treturn (a.length === b.length) && (a.length === 0 || (a[0].name === b[0].name));\n\t}\n\n\n\tstatic findDateIndex(date, dateList) {\n\t\tvar result = dateList.findIndex((element) => { \n\t\t\tvar x = element === date;\n\t\t\treturn x;\n\t\t});\n\t\treturn result;\n\t}\n\n\tstatic trimToStartDate (startDate, series, dateList) {\n\t\tif (!series || !series.timeline || series.timeline.length === 0) {\n\t\t\treturn series;\n\t\t}\n\t\tfor(var i = 0; i < series.timeline.length; i += 1) {\n\t\t\tif (startDate <= series.timeline[i].date) {\n\t\t\t\tvar result = Object.assign({}, series);\n\t\t\t\tresult.timeline = series.timeline.slice(i);\n\t\t\t\tvar desiredIndex = Utils.findDateIndex(startDate, dateList);\n\t\t\t\tvar currentIndex = Utils.findDateIndex(result.timeline[0].date, dateList);\n\t\t\t\twhile(desiredIndex < currentIndex) {\n\t\t\t\t\tcurrentIndex -= 1;\n\t\t\t\t\tresult.timeline.unshift(\n\t\t\t\t\t\t{date: dateList[currentIndex], cases: 0, deaths: 0});\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t\treturn series;\n\t}\n\n\tstatic findMin(array) {\n\t\tlet min = Number.POSITIVE_INFINITY;\n\t\tfor (let i = 0; i < array.length; i += 1) {\n\t\t\tmin = Math.min(min, array[i]);\n\t\t}\n\t\treturn min;\n\t}\n\n\tstatic findMax(array) {\n\t\tlet max = Number.NEGATIVE_INFINITY;\n\t\tfor (let i = 0; i < array.length; i += 1) {\n\t\t\tmax = Math.max(max, array[i]);\n\t\t}\n\t\treturn max;\n\t}\n\n\tstatic stateAbbreviations = {\n\t\t\"alabama\": \"AL\",\n\t\t\"alaska\": \"AK\",\n\t\t\"arizona\": \"AZ\",\n\t\t\"arkansas\": \"AR\",\n\t\t\"california\": \"CA\",\n\t\t\"colorado\": \"CO\",\n\t\t\"connecticut\": \"CT\",\n\t\t\"delaware\": \"DE\",\n\t\t\"district of columbia\": \"DC\",\n\t\t\"florida\": \"FL\",\n\t\t\"georgia\": \"GA\",\n\t\t\"hawaii\": \"HI\",\n\t\t\"idaho\": \"ID\",\n\t\t\"illinois\": \"IL\",\n\t\t\"indiana\": \"IN\",\n\t\t\"iowa\": \"IA\",\n\t\t\"kansas\": \"KS\",\n\t\t\"kentucky\": \"KY\",\n\t\t\"louisiana\": \"LA\",\n\t\t\"maine\": \"ME\",\n\t\t\"maryland\": \"MD\",\n\t\t\"massachusetts\": \"MA\",\n\t\t\"michigan\": \"MI\",\n\t\t\"minnesota\": \"MN\",\n\t\t\"mississippi\": \"MS\",\n\t\t\"missouri\": \"MO\",\n\t\t\"montana\": \"MT\",\n\t\t\"nebraska\": \"NE\",\n\t\t\"nevada\": \"NV\",\n\t\t\"new hampshire\": \"NH\",\n\t\t\"new jersey\": \"NJ\",\n\t\t\"new mexico\": \"NM\",\n\t\t\"new york\": \"NY\",\n\t\t\"north carolina\": \"NC\",\n\t\t\"north dakota\": \"ND\",\n\t\t\"ohio\": \"OH\",\n\t\t\"oklahoma\": \"OK\",\n\t\t\"oregon\": \"OR\",\n\t\t\"pennsylvania\": \"PA\",\n\t\t\"rhode island\": \"RI\",\n\t\t\"south carolina\": \"SC\",\n\t\t\"south dakota\": \"SD\",\n\t\t\"tennessee\": \"TN\",\n\t\t\"texas\": \"TX\",\n\t\t\"utah\": \"UT\",\n\t\t\"vermont\": \"VT\",\n\t\t\"virginia\": \"VA\",\n\t\t\"washington\": \"WA\",\n\t\t\"west virginia\": \"WV\",\n\t\t\"wisconsin\": \"WI\",\n\t\t\"wyoming\": \"WY\",\n\t\t\"puerto rico\": \"PR\",\n\t};\n\n\tstatic stateAbbreviation(stateName) {\n\t\treturn Utils.stateAbbreviations[stateName.toLowerCase()] || stateName.substring(0,2).toUpperCase();\n\t}\n}\n","import React from 'react';\nimport { \n\tLink,\n\tTable,\n\tTableHead,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tTableContainer\n} from '@material-ui/core';\nimport Analytics from './Analytics';\nimport Utils from './Utils';\nimport './RegionTable.css';\n\nconst slimStyle = {height: \"0px\", padding: \"0px\"};\n\nexport default class RegionTable extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.selectedIndex = Utils.findIndex(this.props.list, this.props.selection);\n\t\tif (this.selectedIndex < 0) {\n\t\t\tthis.selectedIndex = 0;\n\t\t}\n\t\tthis.state = {\n\t\t\tselection: this.props.list[this.selectedIndex].name,\n\t\t\tlist: this.createSortedList(\"cases\", false), \n\t\t\tsortBy: \"cases\",\n\t\t\tsortAscending: false\n\t\t};\n\t    this.handleCellClick = this.handleCellClick.bind(this);\t\t\n\t    this.select = this.select.bind(this);\t\t\n\t    this.handleNextClick = this.handleNextClick.bind(this);\t\t\n\t    this.handlePrevClick = this.handlePrevClick.bind(this);\t\t\n\t    this.toggleSort = this.toggleSort.bind(this);\n\t    this.selectedRef = React.createRef();\n\t    this.tableContainerRef = React.createRef();\n\t}\n\n\tsortArray(array, property, numeric, ascending) {\n\t\tvar newArray = [];\n\t\tfor (var i = 0; i < array.length; i += 1) {\n\t\t\tnewArray.push(Object.assign({}, array[i]));\n\t\t}\n\n\t\tif (!numeric) {\n\t\t\tnewArray.sort(function(a, b) {\n\t\t\t\tif (a[property] < b[property]) {\n\t\t\t\t\treturn ascending ? -1 : 1;\n\t\t\t\t} else if (a[property] > b[property]) {\n\t\t\t\t\treturn ascending ? 1 : -1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tnewArray.sort(function(a, b) {\n\t\t\t\treturn ascending ? a[property] - b[property] : b[property] - a[property];\n\t\t\t});\n\t\t}\n\t\treturn newArray;\n\t}\n\n\tselect(name) {\n\t\tthis.setState({selection: name});\n\t\tthis.props.onSelected(name);\n\t}\n\n\thandleCellClick(e, name) {\n\t\tAnalytics.itemSelected(this.props.title, name);\n\t\tthis.select(name);\n\t}\n\n\tfindSelectedIndex() {\n\t\tfor (var i = 0; i < this.state.list.length; i += 1) {\n\t\t\tif (this.state.list[i].name === this.state.selection) {\n\t\t\t\treturn i;\n\t\t\t}\n \t\t}\n \t\t// alert(\"error\");\n\t}\n\n\thandleNextClick(e) {\n\t\tlet index = this.findSelectedIndex();\n\t\tif (index < this.state.list.length - 1) {\n\t\t\tindex += 1;\n\t\t}\n\t\tthis.select(this.state.list[index].name);\t\n\t\tAnalytics.arrowClicked();\n\t}\n\n\thandlePrevClick(e) {\n\t\tlet index = this.findSelectedIndex();\n\t\tif (index > 0) {\n\t\t\tindex -= 1;\n\t\t}\n\t\tthis.select(this.state.list[index].name);\t\n\t\tAnalytics.arrowClicked();\n\t}\n\n\ttoggleSort() {\n\t\tif (this.state.sortBy === \"cases\") {\n\t\t\tthis.setState({sortBy: \"name\", sortAscending: true});\n\t\t} else {\n\t\t\tthis.setState({sortBy: \"cases\", sortAscending: false});\n\t\t}\n\t}\n\n\tcreateSortedList(sortBy, ascending) {\n\t\tif (sortBy === \"cases\") {\n\t\t\treturn this.sortArray(this.props.list, \"cases\", true, ascending);\n\t\t} else {\n\t\t\treturn this.sortArray(this.props.list, \"name\", false, ascending);\n\t\t}\n\t}\n\n\tensureSelectionVisible() {\n\t\tconst container = this.tableContainerRef.current;\n\t\tconst row = this.selectedRef.current;\n\t\tif (!row) return;\n\t\tconst containerVisibleHeight = container.scrollHeight - container.scrollTopMax;\n\t\tconst rowBottom = row.offsetTop + row.offsetHeight;\n\t\tif (rowBottom < (container.scrollTop + containerVisibleHeight) && (row.offsetTop - row.offsetHeight) > container.scrollTop) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.selectedRef.current.scrollIntoView();\n\t\tif (container.scrollTop < (row.offsetTop + 100) && container.scrollTop !== container.scrollTopMax) {\n\t\t\tthis.tableContainerRef.current.scrollBy(0, -100);\n\t\t}\n\t}\n\n\tlistsEqual(a, b) {\n\t\tif (a.length !== b.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (var i = 0; i < a.length; i += 1) {\n\t\t\tif (a[i].name !== b[i].name || a[i].cases !== b[i].cases) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tvar listChanged = !this.listsEqual(prevProps.list, this.props.list);\n\t\tif ((prevState.sortBy !== this.state.sortBy) || (prevState.sortAscending !== this.state.sortAscending) || listChanged) {\n\t\t\tthis.setState({list: this.createSortedList(this.state.sortBy, this.state.sortAscending)});\n\t\t}\n\t\tif (listChanged) {\n\t\t\tthis.selectedIndex = 0;\n\t\t\tthis.select(this.state.list[this.selectedIndex].name);\t\n\t\t}\n\t\tthis.ensureSelectionVisible();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.onSelected(this.state.selection);\n\t}\n\n\trender() {\n\t\tvar tableClasses = `tableContainer ${this.props.extra}`;\n\t\treturn (<div className=\"tableRoot\">\n\t\t\t<div className=\"forwardBackButtons\">\n\t\t\t\t<Link href=\"#\" onClick={this.handlePrevClick}>◀</Link>\n\t\t\t\t&nbsp;\n\t\t\t\t<Link href=\"#\" onClick={this.handleNextClick}>▶</Link>\n\t\t\t</div>\n\t\t\t<TableContainer ref={this.tableContainerRef} className={tableClasses}>\n\t\t\t\t<Table stickyHeader style={slimStyle} size=\"small\">\n\t\t\t\t\t<TableHead>\n            \t\t\t<TableRow>\n              \t\t\t\t<TableCell style={slimStyle} onClick={this.toggleSort} align=\"left\">{this.props.title}{this.state.sortBy === \"name\" ? \"▲\" : \"\"}</TableCell>\n              \t\t\t\t<TableCell style={slimStyle} onClick={this.toggleSort} align=\"right\">{this.state.sortBy === \"cases\" ? \"▼\" : \"\"}Cases</TableCell>\n            \t\t\t</TableRow>            \n     \t\t\t\t</TableHead>\n\n\t\t\t\t\t<TableBody>\n\t  \t\t\t\t\t{this.state.list.map((item) => {\n\t  \t\t\t\t\t\tvar selected = item.name === this.state.selection;\n\n\t\t\t\t\t  \t\treturn <TableRow ref={selected ? this.selectedRef : null} selected={selected} key={item.name} onClick={this.props.itemClick}>\n\t\t\t\t\t\t\t\t<TableCell style={slimStyle} align=\"left\" onClick={(e) => this.handleCellClick(e, item.name)}>{item.name}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell style={slimStyle} align=\"right\" onClick={(e) => this.handleCellClick(e, item.name)}>{item.cases}</TableCell>\n\t\t\t\t  \t\t\t</TableRow>\n\t\t\t\t\t    })}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t</div>);\n\t}\n}\n","class URLUpdater {\n\tsettings = {};\n\n\trewriteWindowLocation() {\n\t\tvar s = this.settings;\n\t\tvar newUrl = window.location.toString().split(/\\?/)[0];\n\t\tvar sep = \"?\";\n\n\t\tif (s.state) {\n\t\t\tsep = \"&\";\n\t\t\tnewUrl += `?state=${encodeURIComponent(s.state)}`;\t\t\n\t\t\tif (s.county) {\n\t\t\t\tnewUrl += `&county=${encodeURIComponent(s.county)}`;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i in this.settings) {\n\t\t\tif (i !== \"state\" && i !== \"county\" && this.settings[i] !== undefined) {\n\t\t\t\tnewUrl += `${sep}${i}=${this.settings[i]}`;\n\t\t\t\tsep = \"&\";\n\t\t\t}\n\t\t}\n\t\twindow.history.replaceState('xxx', 'yyy', newUrl);\n\t}\n\n\tupdate(name, value, defaultValue) {\n\t\tthis.settings[name] = (value === defaultValue) ? undefined : value;\n\t\tif (this.timerId) {\n\t\t\tclearTimeout(this.timerId);\n\t\t}\n\t\tthis.timerId = setTimeout(() => {\n\t\t\tthis.rewriteWindowLocation();\n\t\t}, 1000);\n\t}\n\n\tstatic instance;\n}\n\nif (!URLUpdater.instance) {\n\tURLUpdater.instance = new URLUpdater();\n};\n\nexport default URLUpdater.instance;\n","import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Button, Checkbox, FormControlLabel, Link, Slider, Typography } from '@material-ui/core';\nimport Analytics from './Analytics';\nimport Utils from './Utils';\nimport URLUpdater from './URLUpdater';\nimport \"./SeriesChart.css\";\n\n// from https://material.io/resources/color/#!/?view.left=0&view.right=0\n// all the \"500\" colors in primary and light.\nconst material500Colors = [\n\t[\"#009688\", \"#52c7b8\"],\n\t[\"#8bc34a\", \"#bef67a\"],\n\t[\"#673ab7\", \"#9a67ea\"],\n\t[\"#2196f3\", \"#6ec6ff\"],\n\t[\"#00bcd4\", \"#62efff\"],\n\t[\"#4caf50\", \"#80e27e\"],\n\t[\"#f44336\", \"#ff7961\"],\n\t[\"#e91e63\", \"#ff6090\"],\n\t[\"#9c27b0\", \"#d05ce3\"],\n\t[\"#3f51b5\", \"#757de8\"],\n\t[\"#03a9f4\", \"#67daff\"],\n];\n\nconst lockMax = 11;\n\nclass SeriesChart extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.chartRef = React.createRef();\n\t\tvar days = parseInt(this.props.params.get(\"days\") || \"1\");\n\t\tthis.state = {\n\t\t\ttype: this.props.params.get(\"type\") || \"linear\",\n\t\t\tmovingAverageDays: days,\n\t\t\tcumulative: this.props.params.get(\"cumulative\") === \"true\",\n\t\t\tper100000: this.props.params.get(\"per100000\") === \"true\",\n\t\t\tsmooth: days > 1,\n\t\t\tlockedSeries: [],\n\t\t\tshowCases: true};\n\t\tthis.datasets = [];\n\t\tURLUpdater.update(\"type\", this.state.type, \"linear\");\n\t\tURLUpdater.update(\"cumulative\", this.state.cumulative, false);\n\t\tURLUpdater.update(\"per100000\", this.state.per100000, false);\n\t\tURLUpdater.update(\"days\", this.state.movingAverageDays, 1);\n\t\tthis.defaultSliderValue = this.state.movingAverageDays;\n\t}\n\n\tcalcMovingAverage(array, number) {\n\t\tvar half = Math.floor(this.state.movingAverageDays / 2);\n\t\tvar result = [];\n\t\tvar i;\n\t\tfor (i = 0; i < half; i += 1) {\n\t\t\tresult.push(array[i]);\n\t\t}\n\t\tfor (i = half; i < array.length; i += 1) {\n\t\t\tvar sum = 0;\n\t\t\tfor (var j = 0; j < number; j += 1) {\n\t\t\t\tvar ind = Math.min(array.length - 1, i + half - j);\n\t\t\t\tsum += array[ind];\n\t\t\t}\n\t\t\tvar num = sum / number;\n\t\t\tresult.push((num < 1) ? num : Math.floor(num));\n\t\t}\n\t\treturn result;\n\t}\n\n\tisHidden = {\n\t\t0: false,\n\t\t1: false,\n\t\t2: false,\n\t\t3: false,\n\t\t4: false,\n\t\t5: false\n\t};\n\n\tcurrentSeriesLocked() {\n\t\tfor (var i = 0; i < this.state.lockedSeries.length; i += 1) {\n\t\t\tif (this.state.lockedSeries[i].label === this.props.label) return true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcreateChartDataOneTrack (series, label, colors, highlight) {\n\t\tvar datasets = [];\n\t\tvar labels = [];\n\t\tvar casesData = [];\n\t\tvar deathsData = [];\n\t\tvar cumulativeCasesData = [];\n\t\tvar cumulativeDeathsData = [];\n\t\tvar trimmedSeries = Utils.trimToStartDate(this.props.startDate, series, this.props.dateList);\n\n\t\tvar populationDataMissing = false;\n\t\tvar seriesPopulation = series.population;\n\t\tif (this.state.per100000 && !seriesPopulation) {\n\t\t\tseriesPopulation = 100000;\n\t\t\t//alert(\"Sorry, we have no population data for \" + label);\n\t\t\tpopulationDataMissing = true;\n\t\t}\n\t\tvar factor = this.state.per100000 ? (100000 / seriesPopulation) : 1;\n\n\t\tfor (var i = 0; i < trimmedSeries.timeline.length; i += 1) {\n\t\t\tvar item = trimmedSeries.timeline[i];\n\n\t\t\tlabels.push(item.date.replace(/2020-/, \"\"));\n\t\t\tcasesData.push(Math.round(item.cases * factor * 10) / 10);\n\t\t\tdeathsData.push(Math.round(item.deaths * factor * 10) / 10);\n\t\t\tcumulativeCasesData.push(Math.round(item.cumulativeCases * factor * 10) / 10);\n\t\t\tcumulativeDeathsData.push(Math.round(item.cumulativeDeaths * factor * 10) / 10);\n\t\t}\n\n\t\tconst per = this.state.per100000 ? \" per 100k\" : \"\";\n\t\tconst datasetLabels = [\n\t\t\t`Cumulative cases${per}`, `Cumulative deaths${per}`, `Daily cases${per}`, \n\t\t\t`Cases${per} ${this.state.movingAverageDays}-day avg`, `Daily deaths${per}`,\n\t\t\t`Deaths${per} ${this.state.movingAverageDays}-day avg`];\n\n\t\tconst showCases = (this.state.lockedSeries.length === 0) || this.state.showCases;\n\t\tconst showDeaths = (this.state.lockedSeries.length === 0) || !this.state.showCases;\n\t\tconst backgroundColor = highlight ? \"#000000\" : \"#aaaaaa\";\n\t\tconst makeLabel = (n) => populationDataMissing\n\t\t\t? \"Population data not available.\"\n\t\t\t: (datasetLabels[n] + \": \" + (label || \"??\"));\n\t\tconst makeColor = (num, a) => populationDataMissing ? \"#ff0000\" : colors[num] + a;\n\n\t\tif (this.state.cumulative) {\n\t\t\tshowCases && datasets.push({\n\t\t\t\tmyId: 0,\n\t\t\t\tlabel: makeLabel(0),\n\t\t\t\tbackgroundColor: backgroundColor,\n\t\t\t\tborderColor: makeColor(0, \"b0\"), // 'rgba(75,75,192,0.5)',\n\t\t\t\tborderWidth: 2,\n\t\t\t\tfill: false,\n\t\t\t\thidden: this.isHidden[0],\n\t\t\t\tdata: cumulativeCasesData\n\t\t\t});\n\n\t\t\tshowDeaths && datasets.push({\n\t\t\t\tmyId: 1,\n\t\t\t\tlabel: makeLabel(1),\n\t\t\t\tbackgroundColor: backgroundColor,\n\t\t\t\tborderColor: makeColor(1, \"90\"), // 'rgba(75,150,75,0.5)',\n\t\t\t\tborderWidth: 2,\n\t\t\t\tfill: false,\n\t\t\t\thidden: this.isHidden[1],\n\t\t\t\tdata: cumulativeDeathsData\n\t\t\t});\n\n\t\t} else if (this.state.smooth) {\n\t\t\tshowCases && datasets.push({\n\t\t\t\tmyId: 0,\n\t\t\t\tlabel: makeLabel(3),\n\t\t\t\tbackgroundColor: backgroundColor,\n\t\t\t\tborderColor: makeColor(0, \"50\"), // 'rgba(75,75,192,0.3)',\n\t\t\t\tborderWidth: 4,\n\t\t\t\tfill: false,\n\t\t\t\thidden: this.isHidden[0],\n\t\t\t\tdata: this.calcMovingAverage(casesData, this.state.movingAverageDays),\n\t\t\t\torigData: casesData\n\t\t\t});\n\n\t\t\tshowDeaths && datasets.push({\n\t\t\t\tmyId: 1,\n\t\t\t\tlabel: makeLabel(5),\n\t\t\t\tbackgroundColor: backgroundColor,\n\t\t\t\tborderColor: makeColor(1, \"50\"), // 'rgba(75,150,75,0.3)',\n\t\t\t\tborderWidth: 4,\n\t\t\t\tfill: false,\n\t\t\t\thidden: this.isHidden[1],\n\t\t\t\tdata: this.calcMovingAverage(deathsData, this.state.movingAverageDays),\n\t\t\t\torigData: deathsData\n\t\t\t});\n\n\t\t\tif (showCases && !this.isHidden[0]) {\n\t\t\t\tthis.minY = Math.max(this.minY === undefined ? Number.MAX_VALUE : this.minY, Utils.findMin(casesData));\n\t\t\t\tthis.maxY = Math.max(this.maxY === undefined ? Number.MIN_VALUE : this.maxY, Utils.findMax(casesData));\n\t\t\t}\n\t\t\tif (showDeaths && !this.isHidden[1]) {\n\t\t\t\tthis.minY = Math.max(this.minY === undefined ? Number.MAX_VALUE : this.minY, Utils.findMin(deathsData));\n\t\t\t\tthis.maxY = Math.max(this.maxY === undefined ? Number.MIN_VALUE : this.maxY, Utils.findMax(deathsData));\n\t\t\t}\n\t\t} else {\n\t\t\tshowCases && datasets.push({\n\t\t\t\tmyId: 0,\n\t\t\t\tlabel: makeLabel(2),\n\t\t\t\tbackgroundColor: backgroundColor,\n\t\t\t\tborderColor: makeColor(0, \"b0\"), // 'rgba(75,75,192,0.7)',\n\t\t\t\tborderWidth: 2,\n\t\t\t\tfill: false,\n\t\t\t\thidden: this.isHidden[0],\n\t\t\t\tdata: casesData\n\t\t\t});\n\n\t\t\tshowDeaths && datasets.push({\n\t\t\t\tmyId: 1,\n\t\t\t\tlabel: makeLabel(4),\n\t\t\t\tbackgroundColor: backgroundColor,\n\t\t\t\tborderColor: makeColor(1, \"90\"), // 'rgba(75,150,75,0.7)',\n\t\t\t\tborderWidth: 2,\n\t\t\t\tfill: false,\n\t\t\t\thidden: this.isHidden[1],\n\t\t\t\tdata: deathsData\n\t\t\t});\n\t\t}\n\n\t\treturn {labels: labels, datasets: datasets};\n\t}\n\n\tcreateChartData () {\n\t\tthis.minY = undefined;\n\t\tthis.maxY = undefined;\n\n\t\tvar result = this.currentSeriesLocked() ? {datasets: []} : this.createChartDataOneTrack(this.props.series, this.props.label, \n\t\t\t(this.state.lockedSeries.length === 0) ? material500Colors[0] : [\"#000000\", \"#888888\"]);\n\t\tfor (var j = 0; j < this.state.lockedSeries.length; j += 1) {\n\t\t\tvar item = this.state.lockedSeries[j];\n\t\t\tvar r = this.createChartDataOneTrack(item.series, item.label, material500Colors[j], item.label === this.props.label);\n\t\t\tresult.datasets = result.datasets.concat(r.datasets);\n\t\t\tresult.labels = r.labels;\n\t\t}\n\t\tthis.datasets = result.datasets;\n\t\treturn result;\n\t}\n\n\thandleLogChanged = () => {\n\t\tAnalytics.linearLogToggleClicked();\n\t\tvar newType = (this.state.type === \"logarithmic\") ? \"linear\" : \"logarithmic\";\n\t\tthis.setState({type: newType});\n\t\tURLUpdater.update(\"type\", newType, \"linear\");\n\t}\n\n\thandleCumulativeChanged = (event) => {\n\t\tthis.setState({cumulative: event.target.checked});\n\t\tURLUpdater.update(\"cumulative\", event.target.checked, false);\n\t}\n\n\thandlePer100000Changed = (event) => {\n\t\tthis.setState({per100000: event.target.checked});\n\t\tURLUpdater.update(\"per100000\", event.target.checked, false);\n\t}\n\n\thandleChartClick = () => {\n\t\tsetTimeout(() => {\n\t\t\tfor (var i = 0; i < this.datasets.length; i += 1) {\n\t\t\t\tconst hidden = !this.chartRef.current.chartInstance.isDatasetVisible(i);\n\t\t\t\tif (hidden !== this.isHidden[this.datasets[i].myId]) {\n\t\t\t\t\tAnalytics.hideShowDatasetClicked();\n\t\t\t\t\tthis.isHidden[this.datasets[i].myId] = hidden;\n\t\t\t\t}\n\t\t\t}\n\t\t}, 200)\n\t}\n\n\thandleSliderChanged = (e, value) => {\n\t\tthis.setState({movingAverageDays: value, smooth: value !== 1});\n\t\tURLUpdater.update(\"days\", value, 1);\n\t}\n\n\thandleSmoothChanged = (event) => {\n\t\tthis.setState({movingAverageDays: 5, smooth: event.target.checked});\n\t\tURLUpdater.update(\"days\", 1, 1);\n\t}\n\n\thandleCompareButton = (event) => {\n\t\tif (this.state.lockedSeries.length >= lockMax) {\n\t\t\treturn;\n\t\t}\n\t\tfor (var i = 0; i < this.state.lockedSeries.length; i += 1) {\n\t\t\tvar seriesInfo = this.state.lockedSeries[i];\n\t\t\tif (seriesInfo.label === this.props.label) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis.state.lockedSeries.push({label: this.props.label, series: this.props.series});\n\t\tthis.setState({lockedSeries:this.state.lockedSeries});\n\t}\n\n\thandleResetCompareButton = (event) => {\n\t\tthis.setState({lockedSeries: []});\n\t}\n\n\thandleCasesDeathsButton = (event) => {\n\t\tthis.setState({showCases: !this.state.showCases});\n\t}\n\n\trender() {\n\t\tconst chartData = this.props.series && this.createChartData();\n\n\t    const options = {\n\t\t\tanimation: {\n\t\t\t\tduration: 0\n\t\t\t},\n\t\t\tresponsive: true,\n\t\t\tmaintainAspectRatio: true,\n\t\t\taspectRatio: 1.5,\n\t\t\tonClick: this.handleChartClick, // FYI there is also onResize, onComplete, onHover, before/afterUpdate\n\t\t\tlegend: {position: this.props.small ? \"bottom\" : \"top\"},\n\t\t\ttitle: {\n\t\t\t\tdisplay: this.props.title !== \"\",\n\t\t\t\ttext: (this.state.lockedSeries.length !== 0 && this.currentSeriesLocked()) ? \"Comparing ...\" : this.props.title,\n\t\t\t\tfontSize: \"16\"},\n\t\t\tlayout: {\n\t\t\t\tpadding: {\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\ttop: 35,\n\t\t\t\t\tbottom: 85\n\t\t\t\t}\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\txAxes: [{\n\t\t\t\t\tdisplay: true\n\t\t\t\t}],\n\t\t\t\tyAxes: [{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\ttype: this.state.type,\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tsuggestedMin: this.minY, // minY and maxY are computed by createChartData()\n\t\t\t\t\t\tsuggestedMax: this.maxY,\n\t\t\t\t\t\tcallback: function(value, index, values) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t}\n\t\t};\n\n\t\tconst checkboxLabelPlacement = this.props.small ? \"start\" : undefined;\n\t\tconst checkboxSize = \"medium\"; // this.props.small ? \"medium\" : \"small\";\n\n\t\treturn (<div className=\"chartRoot\">\n\t\t\t<div className={this.props.small ? \"smallChartControls\" : \"bigChartControls\"}>\n\t\t\t\t<FormControlLabel labelPlacement={checkboxLabelPlacement} className=\"log\" control={<Checkbox size={checkboxSize} color=\"default\" checked={this.state.type === \"logarithmic\"}/>} label=\"Log\" onChange={this.handleLogChanged}/>\n\t\t\t\t<FormControlLabel labelPlacement={checkboxLabelPlacement} className=\"cumulative\" control={<Checkbox size={checkboxSize} color=\"default\" checked={this.state.cumulative}/>} label=\"Cumulative\" onChange={this.handleCumulativeChanged}/>\n\t\t\t\t<FormControlLabel labelPlacement={checkboxLabelPlacement} className=\"per100000\" control={<Checkbox size={checkboxSize} color=\"default\" checked={this.state.per100000}/>} label=\"Per 100k\" onChange={this.handlePer100000Changed}/>\n\n\t\t\t\t{this.props.small && <Link className=\"appTitle\" onClick={this.props.onTitleClick}><Typography variant=\"h6\">{this.props.appTitle}</Typography></Link>}\n\t\t\t\t{this.props.small && <Typography variant=\"subtitle2\" className=\"updateDate\">Updated {this.props.updateDate}</Typography>}\n\n\t\t\t\t{this.props.small && <FormControlLabel\n\t\t\t\t\tlabelPlacement={checkboxLabelPlacement}\n\t\t\t\t\tclassName=\"smooth\"\n\t\t\t\t\tcontrol={<Checkbox size=\"medium\" color=\"default\"/>} \n\t\t\t\t\tvalue={this.state.smooth}\n\t\t\t\t\tlabel=\"Smooth\"\n\t\t\t\t\tdisabled={this.state.cumulative}\n\t\t\t\t\tonChange={this.handleSmoothChanged}/>}\n\n\t\t\t\t{!this.props.small && <Typography className=\"label\" disabled={this.state.cumulative}>Smooth</Typography>}\n\t\t\t\t{!this.props.small && <Slider\n\t\t\t\t\tclassName=\"slider\"\n\t\t\t\t\tdisabled={this.state.cumulative}\n\t\t\t\t\tmin={1}\n\t\t\t\t\tmax={9}\n\t\t\t\t\tstep={2}\n\t\t\t\t\ttrack=\"inverted\"\n\t\t\t\t\tdefaultValue={this.defaultSliderValue}\n\t\t\t\t\tonChange={this.handleSliderChanged}\n\t\t\t\t/>}\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t\t{this.props.series && <Line ref={this.chartRef} options={options} data={chartData}/>}\n\t\t\t<div className={this.props.small ? \"smallCompareButton\" : \"bigCompareButton\"}>\n\t\t\t\t<Button size=\"small\" variant=\"outlined\" onClick={this.handleCompareButton} disabled={this.currentSeriesLocked() || this.state.lockedSeries.length >= lockMax}>\n\t\t\t\t\tCompare&nbsp;&nbsp;\"{this.props.label.trim()}\"\"\n\t\t\t\t</Button>\n\t\t\t\t&nbsp;\n\t\t\t\t<Button size=\"small\" variant=\"outlined\" onClick={this.handleCasesDeathsButton} disabled={this.state.lockedSeries.length === 0}>\n\t\t\t\t\tCases/Deaths\n\t\t\t\t</Button>\n\t\t\t\t&nbsp;\n\t\t\t\t<Button size=\"small\" variant=\"outlined\" onClick={this.handleResetCompareButton} disabled={this.state.lockedSeries.length === 0}>\n\t\t\t\t\tReset\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>)\n\t}\n}\n\nexport default SeriesChart;\n"," import React from 'react';\nimport { FormControlLabel, Slider, Tooltip, Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { useEffect, useRef } from \"react\";\nimport preval from 'preval.macro'\n\nimport AboutDialog from './AboutDialog';\nimport Analytics from './Analytics';\nimport CovidData from './CovidData';\nimport GeneralData from './GeneralData';\n\n// import GestureHandler from './GestureHandler';\nimport LoadingDialog from './LoadingDialog';\nimport MyLink from './MyLink';\nimport RegionMenu from './RegionMenu';\nimport RegionTable from './RegionTable';\nimport SeriesChart from './SeriesChart';\nimport URLUpdater from './URLUpdater';\nimport Utils from './Utils';\n\nimport { version } from './Version';\nimport './App.css';\n\n// county populations https://www.census.gov/data/datasets/time-series/demo/popest/2010s-counties-total.html\n\nconst versionString = version.split(/\\./)[0].toString();\nconst development = window.location.toString().match(/(localhost|covid-test|192\\.168)/)\nAnalytics.enable(!development);\n\nconst MyTooltip = withStyles((theme) => ({\n  tooltip: {\n    backgroundColor: theme.palette.common.white,\n    color: 'rgba(0, 0, 0, 0.87)',\n    boxShadow: theme.shadows[1],\n    fontSize: 15,\n  },\n}))(Tooltip);\n\n// FormatSliderValue source code comes from https://github.com/mui-org/material-ui/issues/17905\nconst FormatSliderValue = props => {\n  const { children, value, open } = props;\n\n  const popperRef = useRef(null);\n  useEffect(() => {\n    if (popperRef.current) {\n      popperRef.current.update();\n    }\n  });\n\n  return (\n    <MyTooltip\n      open={open}\n      title={value}\n      placement=\"top\"\n      PopperProps={{ popperRef }}\n    >\n     \t{children}\n    </MyTooltip>\n  );\n};\n\n\nclass App extends React.Component {\n\tconstructor(props) {\t\n\t\tsuper(props);\n\n\t\tthis.mql = window.matchMedia(\"(max-width: 999px)\"); // https://medium.com/better-programming/how-to-use-media-queries-programmatically-in-react-4d6562c3bc97\n\t\tthis.sliderRef = React.createRef();\n\t\tthis.stateMenuRef = React.createRef();\n\t\tthis.countyMenuRef = React.createRef();\n\t\tthis.aboutRef = React.createRef();\n\n\t\tthis.params = new URLSearchParams(window.location.search);\n\t\tconst selectedCounty = this.params.get(\"county\") || CovidData.allCounties;\n\t\tconst selectedState = this.params.get(\"state\") || CovidData.allStates;\n\n\t\tthis.state = {\n\t\t\taboutOpen: false,\n\t\t\tdateList: undefined,\n\t\t\tisLoading: true,\n\t\t\tlatestDate: undefined,\n\t\t\tselectedCounty: selectedCounty,\n\t\t\tselectedState: selectedState,\n\t\t\tsmall: this.mql.matches,\n\t\t\tstartDate: \"2020-03-01\",\n\t\t\tstatesData: undefined,\n\t\t\tstatesList: undefined,\n\t\t\taboutTransparent: false,\n\t\t\tgeneralData: undefined,\n\t\t\tgotData: false\n\t\t};\n\t}\n\n\tcalcStatesList = (statesData) => {\n\t\tconst result = [];\n\t\tconst keys = Object.keys(statesData).sort();\n\t\tfor (var i = 0; i < keys.length; i += 1) {\n\t\t\tconst stateName = keys[i];\n\t\t\tconst stateData = statesData[stateName];\n\t\t\tresult.push({name: stateName, cases: stateData.countiesData[CovidData.allCounties].cases});\n\t\t}\n\t\treturn result;\n\t}\n\n\t/*\n\tcalcAllStatesCountiesList(statesData) {\n\t\tvar result = {};\n\t\tfor (const stateName in statesData) {\n\t\t\tconst stateData = statesData[stateName];\n\t\t\tif (stateName === CovidData.allStates) continue;\n\t\t\tconst countyNames = Object.keys(stateData.countiesData);\n\t\t\tfor (var i = 0; i < countyNames.length; i += 1) {\n\t\t\t\tvar countyName = countyNames[i];\n\t\t\t\tif (countyName !== CovidData.allCounties) {\n\t\t\t\t\tconst cases = stateData.countiesData[countyName].cases;\n\t\t\t\t\twhile (result[countyName]) {\n\t\t\t\t\t\tcountyName = countyName + \" 2\";\n\t\t\t\t\t}\n\t\t\t\t\tresult[countyName] = {name: countyName, cases: cases};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn Utils.sortArray(Object.values(result), \"name\", false, true);\n\t}\n\t*/\n\n\tcalcCountiesList = (statesData, stateName) => {\n\t\t// if (stateName === CovidData.allStates) {\n\t\t// \treturn this.calcAllStatesCountiesList(statesData);\n\t\t// }\n\n\t\tconst stateData = statesData[stateName];\n\t\tconst result = [];\n\t\tconst keys = Object.keys(stateData.countiesData).sort();\n\t\tfor (var i = 0; i < keys.length; i += 1) {\n\t\t\tconst countyName = keys[i];\n\t\t\tconst countyData = stateData.countiesData[countyName];\n\t\t\tresult.push({name: countyName, cases: countyData.cases});\n\t\t}\n\t\treturn result;\n\t}\n\n\tcomponentDidMount() {\n\t\tconst covidDataPath = \"https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv\";\n\t\tthis.covidData = new CovidData(covidDataPath, (statesData, latestDate) => {\n\t\t\tvar nationalTimeline =\n\t\t\t\tstatesData[CovidData.allStates].countiesData[CovidData.allCounties].timeline;\n\t\t\tthis.setState({\n\t\t\t\tdateList: nationalTimeline.map((item) => item.date),\n\t\t\t\tstatesData: statesData,\n\t\t\t\tstatesList: this.calcStatesList(statesData),\n\t\t\t\tlatestDate: latestDate\n\t\t\t});\n\t\t});\n\t\tthis.mql.addListener(() => {\n\t\t\tthis.setState({small: this.mql.matches});\n\t\t});\n\n\t\tconst generalDataPath = \"co-est2019-alldata-trimmed.csv\";\n\t\tthis.generalData = new GeneralData(generalDataPath, (generalData) => {\n\t\t\tthis.setState({generalData: generalData});\n\t\t});\n\t}\n\n\thandleStateSelected = (stateName) => {\n\t\tthis.setState({selectedState: stateName, selectedCounty: CovidData.allCounties});\n\t\tURLUpdater.update(\"state\", stateName, CovidData.allStates);\n\t\tURLUpdater.update(\"county\", CovidData.allCounties, CovidData.allCounties);\n\t}\n\n\thandleCountySelected = (countyName) => {\n\t\tthis.setState({selectedCounty: countyName});\n\t\tURLUpdater.update(\"county\", countyName, CovidData.allCounties);\n\t}\n\n\thandleSliderChanged = (e, value) => {\n\t\tthis.setState({startDate: this.state.dateList[value]});\n\t\tthis.state.aboutOpen && this.setState({aboutTransparent: true});\n\t}\n\n\thandleSliderCommited = (e, value) => {\n\t\tAnalytics.dateSliderUsed();\n\t\tthis.state.aboutOpen && this.setState({aboutTransparent: false});\n\t}\n\n\thandleStateSelectChanged = (e) => {\n\t\tthis.handleStateSelected(e.currentTarget.textContent);\n\t}\n\n\thandleCountySelectChanged = (e) => {\n\t\tthis.handleCountySelected(e.currentTarget.textContent);\n\t}\n\n\tfindSelectedCountyIndex() {\n\t\tfor (var i = 0; i < this.countiesList.length; i += 1) {\n\t\t\tif (this.countiesList[i].name === this.state.selectedCounty) {\n\t\t\t\treturn i;\n\t\t\t}\n \t\t}\n\t}\n\t\n\tfindSelectedStateIndex() {\n\t\tfor (var i = 0; i < this.state.statesList.length; i += 1) {\n\t\t\tif (this.state.statesList[i].name === this.state.selectedState) {\n\t\t\t\treturn i;\n\t\t\t}\n \t\t}\n\t}\n\n\thandleCountyDownClick = (e) => {\n\t\tlet index = this.findSelectedCountyIndex();\n\t\tif (index < this.countiesList.length - 1) {\n\t\t\tindex += 1;\n\t\t}\n\t\tthis.handleCountySelected(this.countiesList[index].name);\n\t\tAnalytics.arrowClicked();\n\t}\n\n\thandleCountyUpClick = (e) => {\n\t\tlet index = this.findSelectedCountyIndex();\n\t\tif (index > 0) {\n\t\t\tindex -= 1;\n\t\t}\n\t\tthis.handleCountySelected(this.countiesList[index].name);\n\t\tAnalytics.arrowClicked();\n\t}\n\n\thandleStateDownClick = (e) => {\n\t\tlet index = this.findSelectedStateIndex();\n\t\tif (index < this.state.statesList.length - 1) {\n\t\t\tindex += 1;\n\t\t}\n\t\tthis.handleStateSelected(this.state.statesList[index].name);\n\t\tAnalytics.arrowClicked();\n\t}\n\n\thandleStateUpClick = (e) => {\n\t\tlet index = this.findSelectedStateIndex();\n\t\tif (index > 0) {\n\t\t\tindex -= 1;\n\t\t}\n\t\tthis.handleStateSelected(this.state.statesList[index].name);\n\t\tAnalytics.arrowClicked();\n\t}\n\n\thandleAboutCloseButton = (e) => {\n\t\tthis.setState({aboutOpen: false})\n\t}\n\n\thandleTitleClick = (e) => {\n\t\tthis.setState({aboutOpen: true})\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tif (this.state.statesData && this.state.generalData && !this.state.gotData) {\n\t\t\tvar stateName, stateData, countyName, countyData;\n\n\t\t\tthis.setState({gotData: true, isLoading: false});\n\t\t\tfor (stateName in this.state.generalData) {\n\t\t\t\tvar stateInfo = this.state.generalData[stateName];\n\t\t\t\tfor (countyName in stateInfo) {\n\t\t\t\t\tvar countyInfo = stateInfo[countyName];\n\t\t\t\t\tstateData = this.state.statesData[stateName];\n\t\t\t\t\tif (stateData) {\n\t\t\t\t\t\tcountyData = stateData.countiesData[countyName];\n\t\t\t\t\t\tif (countyData) {\n\t\t\t\t\t\t\tfor (var i in countyInfo) {\n\t\t\t\t\t\t\t\tcountyData[i] = countyInfo[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// var regionsMissingData = [];\n\t\t\t// for (stateName in this.state.statesData) {\n\t\t\t// \tstateData = this.state.statesData[stateName];\n\t\t\t// \tfor (countyName in stateData.countiesData) {\n\t\t\t// \t\tcountyData = stateData.countiesData[countyName];\n\t\t\t// \t\tif (countyData.population === undefined) {\n\t\t\t// \t\t\tregionsMissingData.push([stateName, countyName]);\n\t\t\t// \t\t}\n\t\t\t// \t}\n\t\t\t// }\n\t\t\t// console.log(\"regionsMissingData\", JSON.stringify(regionsMissingData, undefined, 2));\n\t\t}\n\t}\n\n\t// handleSwipeLeft = (e) => {\n\t// \tthis.countyMenuRef.current.handleDownClick();\n\t// }\n\n\t// handleSwipeRight = (e) => {\n\t// \tthis.countyMenuRef.current.handleUpClick();\n\t// }\n\n\t// handleSwipeDown = (e) => {\n\t// \tthis.stateMenuRef.current.handleUpClick();\n\t// }\n\n\t// handleSwipeUp = (e) => {\n\t// \tthis.stateMenuRef.current.handleDownClick();\n\t// }\n\n\trender() {\n\t\tconst buildDate = preval`module.exports = new Date().toLocaleString();`;\n\n\t\tconst aboutInfo = <React.Fragment>\n\t\t\t{this.state.dateList && \n\t\t\t\t<div className=\"dateControl\">\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tclassName=\"dateFormControl\"\n\t\t\t\t\t\tlabel=\"Start&nbsp;date&nbsp;&nbsp;\"\n\t\t\t\t\t\tlabelPlacement=\"start\"\n\t\t\t\t\t\tcontrol={<Slider\n\t\t\t\t\t\t\tref={this.sliderRef}\n\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\tmax={this.state.dateList.length - 1}\n\t\t\t\t\t\t\ttrack=\"inverted\"\n\t\t\t\t\t\t\tdefaultValue={Utils.findDateIndex(\"2020-03-01\", this.state.dateList)}\n\t\t\t\t\t\t\tonChange={this.handleSliderChanged}\n\t\t\t\t\t\t\tonChangeCommitted={this.handleSliderCommited}\n\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\t\tvalueLabelFormat={(index) => this.state.dateList[index]}\t\n\t\t\t\t\t\t\tValueLabelComponent={FormatSliderValue}\n\t\t\t\t\t\t/>}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t}\n\n\t\t\t<div className=\"notesText\">\n\t\t\t\t<p>Created by\n\t\t\t\tMark Shepherd. {/*<MyLink href=\"#\" onClick={this.handleClickMe}> Mark Shepherd</MyLink>.*/}\n\t\t\t\tData provided by the <MyLink target=\"_blank\" href=\"https://github.com/nytimes/covid-19-data\"> New York Times</MyLink>.\n\t\t\t\tSource code is <MyLink target=\"_blank\" href=\"https://github.com/markshepherd/CovidStats\"> here</MyLink>.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"lastRow\">\n\t\t\t\t<MyLink target=\"_blank\" href=\"https://twitter.com/MarkEShepherd\">\n\t\t\t\t \t<img className=\"socialIconT\"\n\t\t\t\t \t\talign=\"right\"\n\t\t\t\t \t\talt=\"Go to Mark's Twitter\"\n\t\t\t\t  \t\tsrc=\"Twitter_Social_Icon_Circle_Color.svg\"/>\n\t\t\t\t</MyLink>\n\t\t\t\t<br/>\n                <MyLink target=\"_blank\" href=\"https://larkdales.com\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\"\n                    className=\"socialIconH\" align=\"right\" alt=\"Visit the Larkdales\">\n                         <path d=\"M26.451.526C12.155.526.565 12.116.565 26.412s11.59 25.886 25.886 25.886 25.886-11.59 25.886-25.886S40.748.526 26.451.526zM40.005 27.14h-2.689v9.918c0 .718-.026 1.299-1.014 1.299h-6.574V28.41h-6.554v9.947h-6.263c-1.295 0-1.326-.581-1.326-1.299V27.14h-2.689c-.96 0-1.206-.56-.547-1.244l12.903-12.915a1.659 1.659 0 012.399 0l12.902 12.915c.659.684.413 1.244-.548 1.244z\"></path></svg>\n                </MyLink>\n\t\t\t\t<MyLink target=\"_blank\" href=\"https://facebook.com/mark.e.shepherd\">\n\t\t\t\t \t<img className=\"socialIconF\"\n\t\t\t\t \t\talign=\"right\"\n\t\t\t\t \t\talt=\"Visit Mark on Facebook\"\n\t\t\t\t  \t\tsrc=\"FB_logo_RGB-Black_1024.svg\"/>\n\t\t\t\t</MyLink>\n\t\t\t\t<MyLink target=\"_blank\" href=\"mailto:markcharts591@gmail.com\">\n\t\t\t\t \t<img className=\"socialIconE\"\n\t\t\t\t \t\talign=\"right\"\n\t\t\t\t \t\talt=\"Send email to Mark\"\n\t\t\t\t  \t\tsrc=\"email-seeklogo.svg\"/>\n\t\t\t\t</MyLink>\n                <Typography variant=\"caption\">\n\t\t\t\t\t{development ? \"DEV\" : \"PROD\"} {versionString}, {buildDate}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t</React.Fragment>;\n\n\t\tconst chartTitle = this.state.small\n\t\t\t? \"\"\n\t\t\t: (this.state.selectedCounty === CovidData.allCounties) \n\t\t\t\t? this.state.selectedState + \",\" + this.state.selectedCounty\n\t\t\t\t: this.state.selectedState + \", \" + this.state.selectedCounty + \" County\";\n\n\t\tvar chartLabel;\n\t\tif (this.state.selectedState === CovidData.allStates) {\n\t\t\tchartLabel = \"USA\";\n\t\t} else {\n\t\t\tif (this.state.selectedCounty === CovidData.allCounties) {\n\t\t\t\tchartLabel = this.state.selectedState;\n\t\t\t} else {\n\t\t\t\tchartLabel = this.state.selectedCounty + \" County, \" + Utils.stateAbbreviation(this.state.selectedState);\n\t\t\t}\n\t\t}\n\n\t\t// const chartLabel = this.state.selectedCounty\n\t\t// \t+ (this.state.selectedCounty === CovidData.allCounties ? \"\" : \" County\")\n\t\t// \t+ \", \" + (this.state.selectedState === CovidData.allStates\n\t\t// \t\t? CovidData.allStates : Utils.stateAbbreviation(this.state.selectedState));\n\n\t\tif (this.state.statesData && this.state.selectedState) {\n\t\t\tthis.countiesList = this.calcCountiesList(this.state.statesData, this.state.selectedState);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"app\"> \n\t\t\t\t{!this.state.small && <div className=\"header\">\n\t\t\t\t\t<span className=\"myheader\">Covid-19 Statistics by U.S. State and County</span>\n\t\t\t\t\t<br/>\n\t\t\t\t\tUpdated {this.state.latestDate}\n\t\t\t\t</div>}\n\n\t\t\t\t{!this.state.small && this.state.statesList && <div className=\"state\">\n\t\t\t\t\t<RegionTable extra=\"color1\" title=\"State\"\n\t\t\t\t\t\tlist={this.state.statesList}\n\t\t\t\t\t\tselection={this.state.selectedState} \n\t\t\t\t\t\tonSelected={this.handleStateSelected}/></div>}\n\n\t\t\t\t{!this.state.small && this.state.statesData && this.state.selectedState && <div className=\"county\">\n\t\t\t\t\t<RegionTable extra=\"color2\" title=\"County\"\n\t\t\t\t\t\tlist={this.countiesList}\n\t\t\t\t\t\tselection={this.state.selectedCounty} \n\t\t\t\t\t\tonSelected={this.handleCountySelected}/></div>}\n\n\t\t\t\t{this.state.selectedCounty && this.state.statesData && this.state.gotData && <div className=\"chart\">\n\t\t\t\t\t<SeriesChart\n\t\t\t\t\t\tparams={this.params}\n\t\t\t\t\t\tsmall={this.state.small}\n\t\t\t\t\t\tappTitle=\"Covid-19 by US State/County\"\n\t\t\t\t\t\tonTitleClick={this.handleTitleClick}\n\t\t\t\t\t\tupdateDate={this.state.latestDate}\n\t\t\t\t\t\ttitle={chartTitle}\n\t\t\t\t\t\tstartDate={this.state.startDate}\n\t\t\t\t\t\tdateList={this.state.dateList}\n\t\t\t\t\t\tlabel={chartLabel}\n\t\t\t\t\t\tseries={this.state.statesData[this.state.selectedState].countiesData[this.state.selectedCounty]}>\n\n\t\t\t\t\t\t{this.state.small && this.state.selectedState && this.state.statesData && <div className=\"stateSelector\">\n\t\t\t\t\t\t\t<RegionMenu selection={this.state.selectedState} ref={this.stateMenuRef} list={this.state.statesList} onSelected={this.handleStateSelected}/>\n\t\t\t\t\t\t</div>}\n\n\t\t\t\t\t\t{this.state.small && this.state.selectedCounty && this.state.statesData && <div className=\"countySelector\">\n\t\t\t\t\t\t\t<RegionMenu selection={this.state.selectedCounty} ref={this.countyMenuRef} list={this.countiesList} onSelected={this.handleCountySelected}/>\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</SeriesChart>\n\t\t\t\t</div>}\n\n\t\t\t\t{!this.state.small && <div className=\"notes notesContainer\">\n\t\t\t\t\t{aboutInfo}\t\t\t\t\t\n\t\t\t\t</div>}\n\n\t\t\t\t{this.state.isLoading && <LoadingDialog open={this.state.isLoading}/>}\n\n\t\t\t\t{this.state.aboutOpen && <AboutDialog transparent={this.state.aboutTransparent} open={this.state.aboutOpen} onCloseButton={this.handleAboutCloseButton}>\n\t\t\t\t\t<div className=\"notesContainer\">\n\t\t\t\t\t{aboutInfo}\n\t\t\t\t\t</div>\n\t\t\t\t</AboutDialog>}\n\n\t\t\t\t{/*<GestureHandler enabled={this.state.small}\n\t\t\t\t\tonSwipeLeft={this.handleSwipeLeft} onSwipeRight={this.handleSwipeRight}\n\t\t\t\t\tonSwipeDown={this.handleSwipeDown} onSwipeUp={this.handleSwipeUp}\n\t\t\t\t/>*/}\n\t\t\t</div>);\n\t}\n}\n\nexport default App;\n","// generated by genversion\nexport const version = '7.0.0';\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'typeface-roboto';\nimport { ThemeProvider } from '@material-ui/core';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({typography: {fontSize: 12}});\n\nReactDOM.render(\n  <React.StrictMode>\n  \t<ThemeProvider theme={theme}>\n\t    <App />\n\t</ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}